## 予定表

|月|週|内容|開始日|終了日|
|:----|:---|:---|:---|:---|
|11|45|アイドル素体の制作|11月6日|11月12日|
||46|レッスン&仮オーディション実装|11月13日|11月19日|
||47|アイドル素体の制作その２|11月20日|11月26日|
|~|48|ファン人数、アイドルランク、信頼度の実装|11月27日|12月3日|
|12|49|コマンド選択画面制作<br>functionDevから機能を引っ張ってくる|12月4日|12月10日|
||50|デバッグと調整の†闇†(手伝ってもらおう……)|12月11日|12月17日|
||51|アイドル素体の制作予備週(週末には公開予定)|12月18日|12月24日|
||52||12月25日|12月31日|
|1|1||
||2||
||3||
||4||

## 先に作業してほしいこと
### json内、コミュの格納方法を変更
一つの配列にNameとTextとFlagを混ぜるのではなく、三つの配列に分けてほしい。  
これで変数が三つ減り、フラグがboolからSwitchに代わる(0=Q,1=NEXT,2=END)
### データのアクセスリスト
コミュなどが以前作ったテスト版よりも増えているため、ミスを減らすためにリストにしておきたい。  
本音を言うとproduceHistoryというObject名が長いので、省略してPHistでもいいかと思っている。

## 実装リスト
- 年末公開版
	- アイドルデータを含めたproduceHistory.jsonを配布し、読み込んでもらう
		- 本来アイドル素体を読み込む画面が出るところを、このリリースでは必要ないので仮対応
		- 名前入力を初回プレイで行うので、次リリース版では呼び出し位置を変える(名前の場所にFirstStepとあれば初回プレイと判断する)
	- セーブ・ロードシステム - 完成(適応・デバッグは必要)
	- 各コミュ - 完成(適応・デバッグは必要)
    - メニュー画面
        - その一日のコマンドを選ぶやつ
        - scheduleという配列に入れる(コマをメモする変数も必要)
        - 選択時・取り消し時に日程表を再描画する関数も用意すること
        - コマンドはプログラムに組み込み、消費コマ(3コマ/w)も添えておく(二つの配列にする)
	- レッスンシステム基盤
        - 乱数によって試行されタイマーが減っていく(疑似ミニゲームゲージ再現)
		- 成功率一定(最初は90%から、連続成功で15%ずつ減るみたいな)
		- 成長は直線の状態
		- **次のバージョンで大きく改修します**
	- 仮オーディション
		- ステータスがそのオーディションの基準値に対して満たしている割合で確率
		- 例えば10kオデが合計100必要だとして、Vo.Da.Vi:30.20.20で左から流行順の場合、(30x1.3)+(20x1)+(20x0.7)=73なので73/100=0.73で合否を判断する。
		- 合格人数回判定を行うので、もし二人合格枠があれば93%位の確率で合格。
		- 合格枠1つだと運に左右されるので、流行に合わせてオーディションに挑むとファンを獲得しやすいかも。(特にこのバージョンではボム・テンションシステムがないため)
	- ファンの人数システム
        - produceHistoryに加算
	- アイドルランクシステム
        - ボーダーはメモ済みなのでメニュー実装時にまとめて行う
	- 信頼度システム
		- コミュシステム内に組み込んでいるので、produceHistory内の変数に置き換えるだけでよい
    - エンディング
	    - ラストコンサートの合否は信頼度を参考にした値から、レッスン・オーディションのような乱数ターン制で行われる。
	    - 成功・失敗とSランクのみに存在するトゥルーエンドまで対応。
    - Zエンド
        - Zエンドフラグを初回プレイ時に選択
        - アケマスのロケテ時よりもおそらく見る可能性が高いことを明記
    - ドタキャン
	    - 5%の確率でドタキャンが発生する
	- 流行
		- 入れ替え判定を行い、同時に1,2と2,3は入れ替わらない(優先は1,2)
		- それぞれ入れ替わる確率は2割と3割(0.8*0.7=0.56より、44%の確率で入れ替わりが起こる)
		- (要調整)
- 参考データ
	- /design/userFlow.xml
